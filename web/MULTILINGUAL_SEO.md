# Multilingual SEO Implementation

This document explains the multilingual SEO implementation for the DAV Development portfolio website.

## Overview

The site now supports **multiple languages with proper SEO optimization** following Next.js 15 App Router best practices. The implementation includes:

✅ Separate URLs for each language (`/en/`, `/sk/`)  
✅ Language-specific SEO metadata (titles, descriptions, keywords)  
✅ Automatic hreflang tags for search engines  
✅ Static site generation (SSG) support  
✅ Automatic language detection from browser settings  
✅ Client-side language switching

## URL Structure

Each language has its own URL path:

- English: `https://davdev.eu/en/`
- Slovak: `https://davdev.eu/sk/`

The root URL (`https://davdev.eu/`) automatically redirects to the user's preferred language based on their browser's Accept-Language header, or defaults to English.

## How It Works

### 1. **Dynamic Route Structure**

The app uses Next.js dynamic routes with `[lang]` parameter:

```
src/app/
├── [lang]/
│   ├── layout.tsx      # Language-specific layout with metadata
│   └── page.tsx        # Home page content
├── layout.tsx          # Root layout (redirects to /en)
└── page.tsx            # Root page (redirects to /en)
```

### 2. **Static Generation**

The `generateStaticParams()` function in `src/app/[lang]/layout.tsx` pre-generates pages for all supported languages at build time:

```typescript
export async function generateStaticParams() {
  return i18n.locales.map((locale) => ({ lang: locale }));
}
```

This creates:
- `/en/index.html`
- `/sk/index.html`

### 3. **SEO Metadata**

Each language version has its own optimized metadata generated by `generateMetadata()`:

**SEO Elements:**
- ✅ Title tags (localized)
- ✅ Meta descriptions (localized)
- ✅ Keywords (localized)
- ✅ Open Graph tags (Facebook, LinkedIn)
- ✅ Twitter Card tags
- ✅ Canonical URLs
- ✅ hreflang tags (automatic)

Example for English:
```html
<title>DAV Development - Modern Web Development & Digital Solutions</title>
<meta name="description" content="DAV Development - Creating digital experiences..." />
<link rel="canonical" href="https://davdev.eu/en" />
<link rel="alternate" hreflang="en" href="https://davdev.eu/en" />
<link rel="alternate" hreflang="sk" href="https://davdev.eu/sk" />
```

### 4. **Language Detection**

Client-side detection in the root page (`src/app/page.tsx`) handles:
- Detecting user's preferred language from browser settings
- Redirecting users to the appropriate language version on first visit
- Works with static export (no server-side middleware needed)

### 5. **Translation Files**

Translations are stored in JSON files:

```
public/locales/
├── en.json    # English translations
└── sk.json    # Slovak translations
```

Each file contains:
- UI translations (`header.home`, `hero.title`, etc.)
- SEO metadata (`seo.title`, `seo.description`, etc.)

### 6. **Language Switcher**

The `LanguageSwitch` component allows users to switch languages. It:
- Updates the URL to the new language path
- Preserves the current page (e.g., `/en/` → `/sk/`)
- Maintains state via URL (no localStorage)

## Configuration

### Adding a New Language

1. **Add locale to i18n config** (`src/lib/i18n.ts`):
```typescript
export type Locale = 'en' | 'sk' | 'de';  // Add 'de'

export const i18n = {
  defaultLocale: 'en' as Locale,
  locales: ['en', 'sk', 'de'] as Locale[],  // Add 'de'
};
```

2. **Add locale metadata**:
```typescript
export const localeConfig: Record<Locale, { hreflang: string; locale: string }> = {
  en: { hreflang: 'en', locale: 'en_US' },
  sk: { hreflang: 'sk', locale: 'sk_SK' },
  de: { hreflang: 'de', locale: 'de_DE' },  // Add German
};
```

3. **Create translation file** (`public/locales/de.json`):
```json
{
  "header.home": "Startseite",
  "seo.title": "DAV Development - Moderne Webentwicklung",
  ...
}
```

4. **Add to TranslationContext** (`src/contexts/TranslationContext.tsx`):
```typescript
export const SUPPORTED_LANGUAGES: LanguageOption[] = [
  { code: 'en', name: 'English', flag: 'us' },
  { code: 'sk', name: 'Slovenčina', flag: 'sk' },
  { code: 'de', name: 'Deutsch', flag: 'de' },  // Add German
];
```

5. **Rebuild the site**:
```bash
npm run build
```

The new language will be automatically available at `/de/`!

## SEO Best Practices Implemented

### ✅ 1. Dedicated URLs for Each Language
Each language has its own unique URL, making it easy for search engines to index and rank each version independently.

### ✅ 2. Localized Content (Not Just Translation)
SEO metadata is **localized**, not just translated. Keywords are researched for each market:
- English: "web development, mobile applications"
- Slovak: "vývoj webov, mobilné aplikácie"

### ✅ 3. hreflang Tags
Automatically generated hreflang tags tell search engines:
- Which language each page is in
- The relationship between language versions
- Which version to show to users in different regions

### ✅ 4. Structured Data
JSON-LD structured data helps search engines understand the content and display rich snippets.

### ✅ 5. Performance
- Static generation for maximum performance
- All pages pre-rendered at build time
- No client-side data fetching for SEO content

## Testing

### Test Language Detection
1. Open browser in incognito mode
2. Change browser language settings:
   - English → visit `https://davdev.eu/` → should redirect to `/en/`
   - Slovak → visit `https://davdev.eu/` → should redirect to `/sk/`

### Test SEO Metadata
1. View page source: `view-source:https://davdev.eu/en/`
2. Check for:
   - `<title>` tag in correct language
   - `<meta name="description">` in correct language
   - `<link rel="alternate" hreflang="...">` tags for all languages
   - Open Graph tags (`og:title`, `og:description`)

### Test Language Switching
1. Visit `/en/`
2. Click language switcher → select Slovak
3. Should navigate to `/sk/` with all content in Slovak
4. URL should update to reflect new language

### Test Static Build
```bash
npm run build
```

Check that both `/en/` and `/sk/` pages are generated in the `out/` directory.

## Deployment Notes

### Static Export Compatibility
The implementation uses:
- `output: 'export'` in `next.config.ts`
- Static generation via `generateStaticParams()`
- No server-side rendering or API routes

This allows deployment to **any static hosting** (GitHub Pages, Vercel, Netlify, AWS S3, etc.).

### Language Detection
✅ This implementation uses **client-side language detection**, which is fully compatible with static exports:
- First visit to `/` detects browser language and redirects
- Direct visits to `/en/` or `/sk/` work immediately
- No server-side middleware required

### Domain Configuration
Update the `baseUrl` in `src/app/[lang]/layout.tsx`:
```typescript
const baseUrl = 'https://davdev.eu';  // Your actual domain
```

## Files Modified/Created

### Created
- `src/lib/i18n.ts` - i18n configuration and utilities
- `src/app/[lang]/layout.tsx` - Language-specific layout with metadata
- `src/app/[lang]/page.tsx` - Language-specific home page
- `src/components/ClientLayout.tsx` - Client-side provider wrapper

### Modified
- `src/app/layout.tsx` - Now redirects to default language
- `src/app/page.tsx` - Client-side language detection and redirect
- `src/contexts/TranslationContext.tsx` - Added `initialLang` prop
- `src/components/LanguageSwitch/LanguageSwitch.tsx` - URL-based switching
- `public/locales/en.json` - Added SEO metadata keys
- `public/locales/sk.json` - Added SEO metadata keys

## Resources

- [Next.js Internationalization](https://nextjs.org/docs/app/building-your-application/routing/internationalization)
- [Google Search Central - hreflang](https://developers.google.com/search/docs/specialty/international/localized-versions)
- [Metadata API Reference](https://nextjs.org/docs/app/api-reference/functions/generate-metadata)

## Support

For questions or issues with multilingual SEO, check:
1. This documentation
2. Next.js internationalization docs
3. Verify translations in `public/locales/*.json`
4. Check language detection in `src/app/page.tsx`
